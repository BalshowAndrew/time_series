# Вебинар 2. Элементарные методы анализа временных рядов
Методы, которые используется для избавления временного ряда от шума

## Скользящее среднее (moving average) = MA
Предсказание следующего элемента временного ряда на основе нескольких предыдущих (используем среднее значение этих элементов).

$\hat{y}_{t} = \frac{1}{k} \displaystyle\sum^{k-1}_{n=0} y_{t-n}$

Окно - это количество предыдущих элементов.
Новый график получается со сдвигом, равным размеру окна.

**Достоинства метода**:
- простая реализация;
- в случае сильно зашумленных данных метод помогает определить тренд.

**Недостатки метода**:
- происходит запаздывание сглаженного временного ряда;
- повышенная чувствительность к выборосам данных.

>[!note] Чем меньше размер окна, тем хуже сглаживание, но меньше запаздывание.
>Чем больше размер окна, тем лучше сглаживание, но больше запаздывание.

Метод не очень эффективен для предсказаний временного ряда (разве что предсказание следующего значения): после 10 предсказаний график выходит на плато.

## Взвешенное скользящее среднее (weighted moving average) = WMA
Каждое значение в прошлом имеет свой вес:

$\hat{y}_{t} = \displaystyle\sum^{k}_{n=1} \omega_n y_{t+1-n}$

Обычно, чем ближе измерение к прогнозируемому, тем больше его вес. Для этого можно использовать любую возрастающую последовательность (арифметическую прогрессию, последовательность Фибоначи, геометрическую прогрессию и т.д.)
Сумма ${\omega}$ должна быть равна единице:

$\displaystyle\sum^{k}_{n=1} {\omega_n} = 1$

**Достоинства метода**:
- Учитывается временной контекст (чем раньше было событие, тем меньше оно влияет на прогнозируемое значение

**Недостатки метода**:
- Повышенная чувствительность к выбросам данных, как и в **МА**


## Экспоненциальное сглаживание (exponential moving average) = EMA

Чем дальше изменение, тем меньше вклад

$\hat{y}_{t} = \alpha \cdot y_t + (1-\alpha) \cdot \hat y_{t-1} $

Формула рекурсивная...

**Преимущества метода**:
- учитывает временной контекст;
- всегда начинается с нуля;
- нет параметра **размер окна** (размер окна равен от значения до начала временного раяда);
- достаточно задать параметр $\alpha$, который равен значению от 0 до 1 (значение этого параметра будет влиять на отзывчивость)


**Недостатки метода**:
- не учитывает временные компоненты, такие как тренд или сезонность


